{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/Sunan/Projects/react/WebentwicklungHTW/client/src/components/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory, withRouter, Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport { useAuth } from \"../context/auth\";\n\nfunction LoginForm() {\n  _s();\n\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [isError, setIsError] = useState(false);\n  const history = useHistory();\n  const {\n    setToken\n  } = useAuth();\n\n  async function login(e) {\n    e.preventDefault();\n    let data = {\n      password: password,\n      userName: userName\n    };\n\n    try {\n      let res = await axios({\n        method: 'post',\n        url: `https://doyourdishes.herokuapp.com/api/auth/login`,\n        data: data\n      });\n\n      if (res.status === 200) {\n        console.log(res);\n        setToken(res.data);\n        history.push(\"/home\");\n      } else {\n        setIsError(true);\n      }\n    } catch (e) {\n      setIsError(true);\n    }\n  }\n\n  function handlePasswordChange(event) {\n    setPassword(event.target.value);\n  }\n\n  function handleUserNameChange(event) {\n    setUserName(event.target.value);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-4 col-12 col-lg-4 login-card card-style\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"card-title mt-4\",\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"card-subtitle mb-5\",\n      children: [\"New to DoYourDishes? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Create account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 68\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Username\",\n          value: userName,\n          onChange: handleUserNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group mb-5 text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block mb-2\",\n          onClick: login,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), isError && \"The username or password provided were incorrect!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginForm, \"mmOYfka6Bhhlwm+wJ8mq0YmMim8=\", false, function () {\n  return [useHistory, useAuth];\n});\n\n_c = LoginForm;\nexport default _c2 = withRouter(LoginForm);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LoginForm\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/Sunan/Projects/react/WebentwicklungHTW/client/src/components/LoginForm.js"],"names":["React","useState","useHistory","withRouter","Link","axios","useAuth","LoginForm","userName","setUserName","password","setPassword","isError","setIsError","history","setToken","login","e","preventDefault","data","res","method","url","status","console","log","push","handlePasswordChange","event","target","value","handleUserNameChange"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {useHistory, withRouter, Link} from 'react-router-dom';\nimport axios from \"axios\";\nimport {useAuth} from \"../context/auth\";\n\nfunction LoginForm() {\n    const [userName, setUserName] = useState('');\n    const [password, setPassword] = useState('');\n    const [isError, setIsError] = useState(false);\n\n    const history = useHistory();\n    const {setToken} = useAuth();\n\n    async function login(e) {\n        e.preventDefault();\n        let data = {\n            password: password,\n            userName: userName\n        }\n        try {\n            let res = await axios({\n                method: 'post',\n                url: `https://doyourdishes.herokuapp.com/api/auth/login`,\n                data: data\n            });\n            if (res.status === 200) {\n                console.log(res);\n                setToken(res.data);\n                history.push(\"/home\");\n            } else {\n                setIsError(true);\n            }\n        } catch (e) {\n            setIsError(true);\n        }\n    }\n\n    function handlePasswordChange(event) {\n        setPassword(event.target.value);\n    }\n\n    function handleUserNameChange(event) {\n        setUserName(event.target.value);\n    }\n\n    return (\n        <div className=\"card p-4 col-12 col-lg-4 login-card card-style\">\n            <h2 className=\"card-title mt-4\">Sign in</h2>\n            <p className=\"card-subtitle mb-5\">New to DoYourDishes? <Link to=\"/register\">Create\n                account</Link></p>\n            <form>\n                <div className=\"form-group text-left\">\n                    <label>Username :</label>\n                    <input className=\"form-control\"\n                           placeholder=\"Username\"\n                           value={userName}\n                           onChange={handleUserNameChange}\n                    />\n                </div>\n                <div className=\"form-group mb-5 text-left\">\n                    <label>Password :</label>\n                    <input type=\"password\"\n                           className=\"form-control\"\n                           placeholder=\"Password\"\n                           value={password}\n                           onChange={handlePasswordChange}\n                    />\n                </div>\n                <div className=\"text-center\">\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-primary btn-block mb-2\"\n                        onClick={login}\n                    >\n                        Log in\n                    </button>\n                </div>\n            </form>\n            {isError && \"The username or password provided were incorrect!\"}\n        </div>\n    );\n}\n\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}